<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no">

    <title>Babylon.js sample code</title>
    <link rel="stylesheet" href="./assets/css/style.css">

    <!-- Babylon.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script>
    <!-- <script src="https://assets.babylonjs.com/generated/Assets.js"></script> -->
    <!-- <script src="https://preview.babylonjs.com/ammo.js"></script>
    <script src="https://preview.babylonjs.com/cannon.js"></script>
    <script src="https://preview.babylonjs.com/Oimo.js"></script>
    <script src="https://preview.babylonjs.com/earcut.min.js"></script> -->
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
    <!-- <script src="https://cdn.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script> -->
    <!-- <script src="https://cdn.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script> -->
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <script src="https://cdn.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
    <!-- <script src="https://cdn.babylonjs.com/inspector/babylon.inspector.bundle.js"></script> -->


</head>

<body>
    <audio id="bgm" src="/assets/sounds/bgm.mp3" autoplay="true"></audio>
    <div id="bodyImg"></div>
    <div class="buttonDiv">
        <button class="playButton btn-3d" id="hiddenXRButton">
            Start Game
        </button>
        <br />
        <button class="btn-3d" id="decoyButton">
            Start Game
        </button>
        <br />
        <button class="btn-3d" id="instructButton">
            Instructions
        </button>
        <br />
        <button class="btn-3d" id="BGMSound">
            Sound : ON
        </button>
    </div>

    <canvas id="renderCanvas"></canvas>
</body>
<script>
    var AUDIO_STATE = 1
    function animateButton() {
        var button = document.querySelector("button");
        button.style.transform = "translateY(0)";
        button.style.boxShadow = "none";
        setTimeout(function () {
            button.style.transform = "translateY(2px)";
            button.style.boxShadow = "0 2px 2px rgba(0,0,0,0.4)";
        }, 100);
    }

    var bgmAudio = document.getElementById("bgm");

    document.querySelector("#decoyButton").onclick = () => {
        document.querySelector("#hiddenXRButton").click()
        animateButton()
    }


    document.querySelector("#instructButton").onclick = () => {
        animateButton()
    }

    document.querySelector("#BGMSound").onclick = () => {
        if (AUDIO_STATE == 1) {
            bgmAudio.pause();
            AUDIO_STATE = 0;
            document.querySelector("#BGMSound").innerHTML = "SOUND : OFF"
        } else {
            AUDIO_STATE = 1;
            bgmAudio.play();
            document.querySelector("#BGMSound").innerHTML = "SOUND : ON"

        }
        animateButton()
    }
</script>
<script src="./assets/js/sprite.js"></script>
<script src="./assets/js/world.js"></script>
<script src="./assets/js/scene.js"></script>
<script src="./assets/js/gui.js"></script>

</html>